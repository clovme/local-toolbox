import{C as c}from"./index-Bwdf-Qxb.js";import{a as n,b as l,g as r}from"./article-DJgbimAs.js";import{b as o}from"./index-B03c0uGm.js";const f=c("article",{state:()=>({treeList:[],articleInfo:{},categoryList:[],articleTags:{tags:[],articleList:[]}}),getters:{},actions:{setTreeList(){const a=this;a.treeList=[{id:"0",title:"根节点",name:"root",description:"根节点",articleCount:0,pid:"0",sort:0,status:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),children:[]}],r().then(e=>{o(e.data).forEach(i=>{i.name==="all"||i.name==="default"||a.treeList.push(i)})})},setCategory(a,e){const t=this;r().then(i=>{if(t.categoryList=o(i.data),!a.cid||!a.type){const s=t.categoryList[0];e.push({name:"Article",query:{cid:s.id,type:s.name}})}})},setArticleList(a){const e=this;l(a).then(t=>{e.articleTags.tags=[],e.articleTags.articleList=t.data,t.data&&t.data.forEach(i=>{for(const s of i.tags.split("、"))e.articleTags.tags.includes(s)||e.articleTags.tags.push(s)})})},setArticleInfo(a){const e=this;n(a).then(t=>{document.title=[t.data.title,window.WebTitle].join(" - "),e.articleInfo=t.data,e.articleInfo.content=`> **文章摘要**：${t.data.summary}

${t.data.content}`})}}});export{f as u};
