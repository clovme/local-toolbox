import{C as i,X as n}from"./index-DFpKp0Gk.js";import{b as s}from"./index-ostf7RhG.js";function f(){return i({url:"/readme",method:"get"})}function c(){return i({url:"/category",method:"get"})}function h(t){return i({url:"/category",method:"delete",data:{id:t.id}})}function p(t,a){return i({url:"/category",method:t?"post":"put",data:a})}function m(t){return i({url:"/upload/images",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function y(t,a){return i({url:"/article",method:t,data:a})}function l(t){return i({url:"/article/list",method:"get",params:t})}function u(t){return i({url:"/article",method:"get",params:t})}const L=n("article",{state:()=>({treeList:[],rootTreeList:[],articleInfo:{},categoryList:[],articleTags:{tags:[],articleList:[]}}),getters:{},actions:{fetchCategoryTreeList(t,a){const e=this;e.treeList=[],e.rootTreeList=[{id:"0",title:"根节点",name:"root",docSort:"updatedAt",articleCount:0,pid:"0",sort:0,status:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),children:[]}],c().then(o=>{if(e.categoryList=s(o.data),!t.cid||!t.type){const r=e.categoryList[0];a.push({name:"Article",query:{cid:r.id,type:r.name}});return}e.categoryList.forEach(r=>{r.name==="all"||r.name==="default"||e.rootTreeList.push(r)}),e.categoryList.forEach(r=>{r.name!=="all"&&e.treeList.push(r)})})},fetchArticleList(t){const a=this;l(t).then(e=>{a.articleTags.tags=[],a.articleTags.articleList=e.data,e.data&&e.data.forEach(o=>{for(const r of o.tags.split("、"))a.articleTags.tags.includes(r)||a.articleTags.tags.push(r)})})},fetchArticleInfo(t){const a=this;u(t).then(e=>{document.title=[e.data.title,window.WebTitle].join(" - "),a.articleInfo=e.data,a.articleInfo.content=`> **文章摘要**：${e.data.summary}

${e.data.content}`})}}});export{u as a,m as b,h as d,f as g,y as o,p,L as u};
