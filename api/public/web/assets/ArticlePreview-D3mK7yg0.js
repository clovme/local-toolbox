import{o as x}from"./article-DJgbimAs.js";import{d as k,u as V,n as C,r as N,B as D,a as p,c as f,o as u,b as o,f as n,e as i,w as c,t as a,v as e,F as E,s as q,V as _,k as B,_ as P}from"./index-Bwdf-Qxb.js";import{o as T,W as F}from"./style-BYSeDS1Z.js";import{f as y,t as g}from"./index-B03c0uGm.js";import{u as R}from"./article-DL0Z1R9R.js";const S={class:"article-preview-box"},$={class:"article-preview-left-box"},j={class:"info-card"},L={class:"meta"},M={class:"meta tags"},O={class:"meta"},U={class:"meta"},W={class:"meta options"},z={class:"article-preview-content"},G={class:"title"},H={class:"article-body"},J={class:"article-preview-catalog-box"},K={class:"article-preview-catalog"},I="preview-only",Q=k({__name:"ArticlePreview",setup(X){const v=V(),A=C(),t=R(),m=N(null);D(()=>{m.value=document.documentElement});const w=r=>{_.modal.confirm({title:"删除提示",content:`删除《${r.title}》？`,escClosable:!0,status:"warning",maskClosable:!0,draggable:!1,destroyOnClose:!0}).then(s=>{s==="confirm"&&x("delete",r).then(l=>{_.modal.message({content:l.message,status:"success"}),A.push({name:"Article",query:{cid:r.categoryID,type:r.categoryName}})})})};return t.setArticleInfo(v.query),(r,s)=>{const l=p("router-link"),b=p("PageView");return u(),f("div",S,[o("aside",$,[o("div",j,[s[4]||(s[4]=o("h3",null,"文章信息",-1)),o("p",L,[s[1]||(s[1]=n("分类：",-1)),i(l,{class:"title-category",to:{name:"Article",query:{cid:e(t).articleInfo.categoryID,type:e(t).articleInfo.categoryName}}},{default:c(()=>[n(a(e(t).articleInfo.categoryTitle),1)]),_:1},8,["to"])]),o("p",M,[s[2]||(s[2]=n("标签：",-1)),(u(!0),f(E,null,q(e(t).articleInfo.tags?.split("、"),(d,h)=>(u(),B(l,{to:{name:"Article",query:{cid:e(t).articleInfo.categoryID,type:e(t).articleInfo.categoryName,kw:d}},key:h},{default:c(()=>[n(a(d),1)]),_:2},1032,["to"]))),128))]),o("p",O,"发布时间："+a(e(y)(e(t).articleInfo.createdAt))+"("+a(e(g)(e(t).articleInfo.createdAt))+"前)",1),o("p",U,"更新时间："+a(e(y)(e(t).articleInfo.updatedAt))+"("+a(e(g)(e(t).articleInfo.updatedAt))+"前)",1),s[5]||(s[5]=o("p",{class:"meta"},null,-1)),o("p",W,[i(l,{class:"options-box-edit",to:{name:"EditArticle",query:{id:e(t).articleInfo.id,cid:e(t).articleInfo.categoryID,type:e(t).articleInfo.categoryName},params:{type:"edit"}}},{default:c(()=>[...s[3]||(s[3]=[n("编辑",-1)])]),_:1},8,["to"]),o("a",{onClick:s[0]||(s[0]=d=>w(e(t).articleInfo)),class:"options-box-delete",href:"javascript:void(0)"},"删除")])])]),o("main",z,[i(b,null,{default:c(()=>[o("h1",G,a(e(t).articleInfo.title),1),o("div",H,[i(e(T),{codeTheme:"github",codeFoldable:!1,noPrettier:!0,id:I,modelValue:e(t).articleInfo.content||""},null,8,["modelValue"])])]),_:1})]),o("aside",J,[o("div",K,[i(e(F),{editorId:I,scrollElement:m.value},null,8,["scrollElement"])])])])}}}),se=P(Q,[["__scopeId","data-v-224348ee"]]);export{se as default};
