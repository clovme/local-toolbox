import{u as k,o as V}from"./article-DLGrMOsc.js";import{d as C,u as D,n as N,r as q,B,a as m,c as f,o as u,b as o,f as n,e as i,w as c,t as r,v as e,F as P,s as E,V as p,k as T,_ as F}from"./index-DFpKp0Gk.js";import{o as $,W as M}from"./style-D6XS1iwF.js";import{f as _,t as g}from"./index-ostf7RhG.js";const R={class:"article-preview-box"},S={class:"article-preview-left-box"},j={class:"info-card"},H={class:"meta"},L={class:"meta tags"},O={class:"meta"},U={class:"meta"},W={class:"meta options"},z={class:"article-preview-content"},G={class:"title"},J={class:"article-body"},K={class:"article-preview-catalog-box"},Q={class:"article-preview-catalog"},y="preview-only",X=C({__name:"ArticlePreview",setup(Y){const I=D(),v=N(),t=k(),A=({index:a})=>`preview-only-${a}`,h=q(null);B(()=>{h.value=document.documentElement});const w=a=>{p.modal.confirm({title:"删除提示",content:`删除《${a.title}》？`,escClosable:!0,status:"warning",maskClosable:!0,draggable:!1,destroyOnClose:!0}).then(s=>{s==="confirm"&&V("delete",a).then(l=>{p.modal.message({content:l.message,status:"success"}),v.push({name:"Article",query:{cid:a.categoryID,type:a.categoryName}})})})};return t.fetchArticleInfo(I.query),(a,s)=>{const l=m("router-link"),b=m("PageView");return u(),f("div",R,[o("aside",S,[o("div",j,[s[4]||(s[4]=o("h3",null,"文章信息",-1)),o("p",H,[s[1]||(s[1]=n("分类：",-1)),i(l,{class:"title-category",to:{name:"Article",query:{cid:e(t).articleInfo.categoryID,type:e(t).articleInfo.categoryName}}},{default:c(()=>[n(r(e(t).articleInfo.categoryTitle),1)]),_:1},8,["to"])]),o("p",L,[s[2]||(s[2]=n("标签：",-1)),(u(!0),f(P,null,E(e(t).articleInfo.tags?.split("、"),(d,x)=>(u(),T(l,{to:{name:"Article",query:{cid:e(t).articleInfo.categoryID,type:e(t).articleInfo.categoryName,kw:d}},key:x},{default:c(()=>[n(r(d),1)]),_:2},1032,["to"]))),128))]),o("p",O,"发布时间："+r(e(_)(e(t).articleInfo.createdAt))+"("+r(e(g)(e(t).articleInfo.createdAt))+"前)",1),o("p",U,"更新时间："+r(e(_)(e(t).articleInfo.updatedAt))+"("+r(e(g)(e(t).articleInfo.updatedAt))+"前)",1),s[5]||(s[5]=o("p",{class:"meta"},null,-1)),o("p",W,[i(l,{class:"options-box-edit",to:{name:"EditArticle",query:{id:e(t).articleInfo.id,cid:e(t).articleInfo.categoryID,type:e(t).articleInfo.categoryName},params:{type:"edit"}}},{default:c(()=>[...s[3]||(s[3]=[n("编辑",-1)])]),_:1},8,["to"]),o("a",{onClick:s[0]||(s[0]=d=>w(e(t).articleInfo)),class:"options-box-delete",href:"javascript:void(0)"},"删除")])])]),o("main",z,[i(b,null,{default:c(()=>[o("h1",G,r(e(t).articleInfo.title),1),o("div",J,[i(e($),{codeTheme:"github",codeFoldable:!1,noPrettier:!0,id:y,modelValue:e(t).articleInfo.content||""},null,8,["modelValue"])])]),_:1})]),o("aside",K,[o("div",Q,[i(e(M),{editorId:y,theme:"light",mdHeadingId:A,catalogMaxDepth:3})])])])}}}),se=F(X,[["__scopeId","data-v-ffc29348"]]);export{se as default};
